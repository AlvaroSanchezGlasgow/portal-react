{"ast":null,"code":"var _jsxFileName = \"C:\\\\personal_workspace\\\\portal-react\\\\src\\\\ClientAdmin\\\\NewClientPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport NavbarComponent from \"../Components/NavbarComponent\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\n\nconst axios = require(\"axios\");\n\nlet flag = true;\n\nfunction NewClientPage() {\n  const [clientObject, setClientObject] = useState([]);\n  const [tierObject, setTierObject] = useState([]);\n  const [sectorObject, setSectorObject] = useState([]);\n  const [sending, setSending] = useState(false);\n  const [errorMessage, setError] = useState([]);\n  let history = useHistory();\n\n  const handleChangeClientObject = e => {\n    setClientObject({ ...clientObject,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      handleSubmit();\n    }\n  };\n\n  const handleSubmit = evt => {\n    setSending(true);\n    flag = true;\n\n    if (!clientObject.name) {\n      flag = false;\n    }\n\n    if (!clientObject.website) {\n      flag = false;\n    }\n\n    if (!clientObject.clientManager) {\n      flag = false;\n    }\n\n    if (!clientObject.tier) {\n      flag = false;\n    }\n\n    if (!clientObject.sector) {\n      flag = false;\n    }\n\n    if (!clientObject.turnover) {\n      flag = false;\n    }\n\n    if (!clientObject.number_employees) {\n      flag = false;\n    }\n\n    var params = new URLSearchParams();\n    params.append(\"name\", clientObject.name);\n    params.append(\"website\", clientObject.website);\n    params.append(\"clientManager\", clientObject.clientManager);\n    params.append(\"tier\", clientObject.tier);\n    params.append(\"sector\", clientObject.sector);\n    params.append(\"turnover\", clientObject.turnover);\n    params.append(\"number_employees\", clientObject.number_employees);\n\n    if (flag) {\n      axios.post(`${process.env.REACT_APP_API_ROOT_URL}/client-management/clients`, params, {\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n        }\n      }).then(function (response) {\n        history.push(\"/client-mng\");\n      }).catch(function (error) {\n        console.log(\"Error : \" + error);\n        setError(error);\n      }).finally(function () {// always executed\n      });\n    }\n  };\n\n  useEffect(props => {\n    //We call the api\n    axios.get(`${process.env.REACT_APP_API_ROOT_URL}/sector-manager/sector`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      setSectorObject(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    }); //We call the api\n\n    axios.get(`${process.env.REACT_APP_API_ROOT_URL}/tier-manager/tier`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      setTierObject(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main_index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"New Client\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"name\",\n    id: \"name\",\n    type: \"text\",\n    placeholder: \"name\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 27\n    }\n  }), sending && !clientObject.name && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 31\n    }\n  }, \"Mandatory Field\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, \"Tier\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"select is-fullwidth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"tier\",\n    id: \"tier\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 31\n    }\n  }, \"Select\"), tierObject.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 35\n      }\n    }, item.id + \" - \" + item.tier_title);\n  }))), sending && !clientObject.tier && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 31\n    }\n  }, \"Mandatory Field\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, \"Sector\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"select select is-fullwidth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"sector\",\n    id: \"sector\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 31\n    }\n  }, \"Select\"), sectorObject.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 35\n      }\n    }, item.title);\n  }))), sending && !clientObject.sector && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 31\n    }\n  }, \"Mandatory Field\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 25\n    }\n  }, \"Client Manager\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"clientManager\",\n    id: \"clientManager\",\n    type: \"text\",\n    placeholder: \"name\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 27\n    }\n  }), sending && !clientObject.clientManager && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 31\n    }\n  }, \"Mandatory Field\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 25\n    }\n  }, \"Website\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"website\",\n    id: \"website\",\n    type: \"text\",\n    placeholder: \"website\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 27\n    }\n  }), sending && !clientObject.website && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 31\n    }\n  }, \"Mandatory Field\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 25\n    }\n  }, \"Turnover\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"turnover\",\n    id: \"turnover\",\n    type: \"number\",\n    placeholder: \"turnover\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 27\n    }\n  }), sending && !clientObject.turnover && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 31\n    }\n  }, \"Mandatory Field\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 25\n    }\n  }, \"Employees\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"number_employees\",\n    id: \"number_employees\",\n    type: \"number\",\n    placeholder: \"number employees\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 27\n    }\n  }), sending && !clientObject.number_employees && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 31\n    }\n  }, \"Mandatory Field\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 19\n    }\n  }, errorMessage.message && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(AlertTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 25\n    }\n  }, \"Error\"), \"Error creating the new client. Please, review that the client doesn´t exist already in the system\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field is-grouped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-text\",\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 29\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-primary\",\n    onClick: () => handleSubmit(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 29\n    }\n  }, \"Submit\"))))))))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default NewClientPage;","map":{"version":3,"sources":["C:/personal_workspace/portal-react/src/ClientAdmin/NewClientPage.js"],"names":["React","useState","useEffect","NavbarComponent","useHistory","Alert","AlertTitle","axios","require","flag","NewClientPage","clientObject","setClientObject","tierObject","setTierObject","sectorObject","setSectorObject","sending","setSending","errorMessage","setError","history","handleChangeClientObject","e","target","name","value","handleKeyPress","event","key","handleSubmit","evt","website","clientManager","tier","sector","turnover","number_employees","params","URLSearchParams","append","post","process","env","REACT_APP_API_ROOT_URL","headers","Authorization","sessionStorage","getItem","then","response","push","catch","error","console","log","finally","props","get","data","map","item","id","tier_title","title","message","goBack"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport NavbarComponent from \"../Components/NavbarComponent\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nlet flag = true;\r\n\r\nfunction NewClientPage() {\r\n  const [clientObject, setClientObject] = useState([]);\r\n  const [tierObject, setTierObject] = useState([]);\r\n  const [sectorObject, setSectorObject] = useState([]);\r\n  const [sending, setSending] = useState(false);\r\n  const [errorMessage, setError] = useState([]);\r\n\r\n  let history = useHistory();\r\n\r\n  const handleChangeClientObject = (e) => {\r\n    setClientObject({ ...clientObject, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      handleSubmit();\r\n    }\r\n  };\r\n  const handleSubmit = (evt) => {\r\n    setSending(true);\r\n    flag = true;\r\n\r\n    if (!clientObject.name) {\r\n      flag = false;\r\n    }\r\n    if (!clientObject.website) {\r\n      flag = false;\r\n    }\r\n    if (!clientObject.clientManager) {\r\n      flag = false;\r\n    }\r\n    if (!clientObject.tier) {\r\n      flag = false;\r\n    }\r\n    if (!clientObject.sector) {\r\n      flag = false;\r\n    }\r\n    if (!clientObject.turnover) {\r\n      flag = false;\r\n    }\r\n\r\n    if (!clientObject.number_employees) {\r\n      flag = false;\r\n    }\r\n\r\n    var params = new URLSearchParams();\r\n    params.append(\"name\", clientObject.name);\r\n    params.append(\"website\", clientObject.website);\r\n    params.append(\"clientManager\", clientObject.clientManager);\r\n    params.append(\"tier\", clientObject.tier);\r\n    params.append(\"sector\", clientObject.sector);\r\n    params.append(\"turnover\", clientObject.turnover);\r\n    params.append(\"number_employees\", clientObject.number_employees);\r\n\r\n    if (flag) {\r\n      axios\r\n        .post(\r\n          `${process.env.REACT_APP_API_ROOT_URL}/client-management/clients`,\r\n          params,\r\n          {\r\n            headers: {\r\n              Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\r\n            },\r\n          }\r\n        )\r\n        .then(function (response) {\r\n          history.push(\"/client-mng\");\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"Error : \" + error);\r\n          setError(error);\r\n        })\r\n        .finally(function () {\r\n          // always executed\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect((props) => {\r\n    //We call the api\r\n    axios\r\n      .get(`${process.env.REACT_APP_API_ROOT_URL}/sector-manager/sector`, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\r\n        },\r\n      })\r\n      .then(function (response) {\r\n        setSectorObject(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n      })\r\n      .finally(function () {\r\n        // always executed\r\n      });\r\n\r\n    //We call the api\r\n    axios\r\n      .get(`${process.env.REACT_APP_API_ROOT_URL}/tier-manager/tier`, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\r\n        },\r\n      })\r\n      .then(function (response) {\r\n        setTierObject(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n      })\r\n      .finally(function () {\r\n        // always executed\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <section>\r\n      <NavbarComponent />\r\n        <div class=\"container\">\r\n         \r\n          <div class=\"card\">\r\n            <div class=\"card-content\">\r\n              <div id=\"main_index\">\r\n                <h2>New Client</h2>\r\n              </div>\r\n              <div className=\"columns\">\r\n                <div className=\"column is-12\">\r\n                  <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                      <div class=\"field\">\r\n                        <label class=\"label\">Name</label>\r\n                        <div class=\"control\">\r\n                          <input\r\n                            class=\"input\"\r\n                            name=\"name\"\r\n                            id=\"name\"\r\n                            type=\"text\"\r\n                            placeholder=\"name\"\r\n                            onChange={(e) => handleChangeClientObject(e)}\r\n                            onKeyPress={(e) => handleKeyPress(e)}\r\n                            maxLength=\"50\"\r\n                            required\r\n                          />\r\n                          {sending && !clientObject.name && (\r\n                            <>\r\n                              <Alert variant=\"outlined\" severity=\"error\">\r\n                                Mandatory Field\r\n                              </Alert>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"column\">\r\n                      <div class=\"field\">\r\n                        <label class=\"label\">Tier</label>\r\n                        <div class=\"control\">\r\n                          <div class=\"select is-fullwidth\">\r\n                            <select\r\n                              name=\"tier\"\r\n                              id=\"tier\"\r\n                              onChange={(e) => handleChangeClientObject(e)}\r\n                              onKeyPress={(e) => handleKeyPress(e)}\r\n                              required\r\n                            >\r\n                              <option selected value=\"\">\r\n                                Select\r\n                              </option>\r\n\r\n                              {tierObject.map(function (item) {\r\n                                return (\r\n                                  <option value={item.id}>\r\n                                    {item.id + \" - \" + item.tier_title}\r\n                                  </option>\r\n                                );\r\n                              })}\r\n                            </select>\r\n                          </div>\r\n                          {sending && !clientObject.tier && (\r\n                            <>\r\n                              <Alert variant=\"outlined\" severity=\"error\">\r\n                                Mandatory Field\r\n                              </Alert>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"column\">\r\n                      <div class=\"field\">\r\n                        <label class=\"label\">Sector</label>\r\n                        <div class=\"control\">\r\n                          <div class=\"select select is-fullwidth\">\r\n                            <select\r\n                              name=\"sector\"\r\n                              id=\"sector\"\r\n                              onChange={(e) => handleChangeClientObject(e)}\r\n                              onKeyPress={(e) => handleKeyPress(e)}\r\n                              required\r\n                            >\r\n                              <option selected value=\"\">\r\n                                Select\r\n                              </option>\r\n                              {sectorObject.map(function (item) {\r\n                                return (\r\n                                  <option value={item.id}>{item.title}</option>\r\n                                );\r\n                              })}\r\n                            </select>\r\n                          </div>\r\n                          {sending && !clientObject.sector && (\r\n                            <>\r\n                              <Alert variant=\"outlined\" severity=\"error\">\r\n                                Mandatory Field\r\n                              </Alert>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                      <div class=\"field\">\r\n                        <label class=\"label\">Client Manager</label>\r\n                        <div class=\"control\">\r\n                          <input\r\n                            class=\"input\"\r\n                            name=\"clientManager\"\r\n                            id=\"clientManager\"\r\n                            type=\"text\"\r\n                            placeholder=\"name\"\r\n                            onChange={(e) => handleChangeClientObject(e)}\r\n                            onKeyPress={(e) => handleKeyPress(e)}\r\n                            maxLength=\"50\"\r\n                            required\r\n                          />\r\n                          {sending && !clientObject.clientManager && (\r\n                            <>\r\n                              <Alert variant=\"outlined\" severity=\"error\">\r\n                                Mandatory Field\r\n                              </Alert>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                      <div class=\"field\">\r\n                        <label class=\"label\">Website</label>\r\n                        <div class=\"control\">\r\n                          <input\r\n                            class=\"input\"\r\n                            name=\"website\"\r\n                            id=\"website\"\r\n                            type=\"text\"\r\n                            placeholder=\"website\"\r\n                            onChange={(e) => handleChangeClientObject(e)}\r\n                            onKeyPress={(e) => handleKeyPress(e)}\r\n                            maxLength=\"50\"\r\n                            required\r\n                          />\r\n                          {sending && !clientObject.website && (\r\n                            <>\r\n                              <Alert variant=\"outlined\" severity=\"error\">\r\n                                Mandatory Field\r\n                              </Alert>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                      <div class=\"field\">\r\n                        <label class=\"label\">Turnover</label>\r\n                        <div class=\"control\">\r\n                          <input\r\n                            class=\"input\"\r\n                            name=\"turnover\"\r\n                            id=\"turnover\"\r\n                            type=\"number\"\r\n                            placeholder=\"turnover\"\r\n                            onChange={(e) => handleChangeClientObject(e)}\r\n                            onKeyPress={(e) => handleKeyPress(e)}\r\n                            maxLength=\"50\"\r\n                            required\r\n                          />\r\n                          {sending && !clientObject.turnover && (\r\n                            <>\r\n                              <Alert variant=\"outlined\" severity=\"error\">\r\n                                Mandatory Field\r\n                              </Alert>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"column\">\r\n                      <div class=\"field\">\r\n                        <label class=\"label\">Employees</label>\r\n                        <div class=\"control\">\r\n                          <input\r\n                            class=\"input\"\r\n                            name=\"number_employees\"\r\n                            id=\"number_employees\"\r\n                            type=\"number\"\r\n                            placeholder=\"number employees\"\r\n                            onChange={(e) => handleChangeClientObject(e)}\r\n                            onKeyPress={(e) => handleKeyPress(e)}\r\n                            maxLength=\"50\"\r\n                            required\r\n                          />\r\n                          {sending && !clientObject.number_employees && (\r\n                            <>\r\n                              <Alert variant=\"outlined\" severity=\"error\">\r\n                                Mandatory Field\r\n                              </Alert>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"columns is-centered\">\r\n                    <center>\r\n                      <div class=\"column\"></div>\r\n                    </center>\r\n                  </div>\r\n                  <div class=\"columns is-centered\">\r\n                    {errorMessage.message && (\r\n                      <Alert severity=\"error\">\r\n                        <AlertTitle>Error</AlertTitle>\r\n                        {\r\n                          \"Error creating the new client. Please, review that the client doesn´t exist already in the system\"\r\n                        }\r\n                      </Alert>\r\n                    )}\r\n                  </div>\r\n                  <div class=\"columns is-centered\">\r\n                    <center>\r\n                      <div class=\"column\">\r\n                        <div class=\"field is-grouped\">\r\n                          <div class=\"control\">\r\n                            <button\r\n                              class=\"button is-text\"\r\n                              onClick={() => history.goBack()}\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                          </div>\r\n                          <div class=\"control\">\r\n                            <button\r\n                              class=\"button is-primary\"\r\n                              onClick={() => handleSubmit()}\r\n                            >\r\n                              Submit\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </center>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <br />\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewClientPage;\r\n"]},"metadata":{},"sourceType":"module"}