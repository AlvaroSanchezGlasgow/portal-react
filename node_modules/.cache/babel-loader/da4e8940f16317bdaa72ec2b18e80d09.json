{"ast":null,"code":"var _jsxFileName = \"/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/IndexPage/IndexPage.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport scroller from 'react-scroll';\nimport NavbarComponent from '../Components/NavbarComponent';\nimport AsideMenuComponent from '../Components/AsideMenuComponent';\nimport MUIDataTable from \"mui-datatables\";\nimport { useHistory } from \"react-router-dom\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst axios = require('axios');\n\nfunction IndexPage() {\n  const [result, setResult] = useState([]);\n  let history = useHistory();\n\n  const goToEdit = value => {\n    history.push(\"/admin?user=\" + value[1]);\n  };\n\n  const options = {\n    filterType: 'dropdown',\n    rowHover: true,\n    onRowsDelete: rowsDeleted => {\n      const rowsToDelete = rowsDeleted.data.map(d => result[d.dataIndex]);\n      handleDelete(rowsToDelete);\n    },\n    onRowClick: (event, rowData) => {\n      goToEdit(event);\n    }\n  };\n  const columns = [{\n    name: \"id\",\n    label: \"ID\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"username\",\n    label: \"USERNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"firstName\",\n    label: \"NAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"lastName\",\n    label: \"SURNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"mobile\",\n    label: \"MOBILE PHONE\",\n    options: {\n      filter: true,\n      display: false\n    }\n  }, {\n    name: \"company\",\n    label: \"COMPANY\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"isActive\",\n    label: \"IS ACTIVE\",\n    options: {\n      filter: true,\n      customBodyRender: value => {\n        if (value === \"Y\") {\n          return /*#__PURE__*/React.createElement(CheckCircleIcon, {\n            style: {\n              color: '#64A205'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }\n          });\n        } else {\n          return /*#__PURE__*/React.createElement(CloseIcon, {\n            style: {\n              color: '#C71E03'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 25\n            }\n          });\n        }\n      } //CheckCircleIcon\n\n    }\n  }];\n\n  const handleDelete = recordsToDelete => {\n    var result = recordsToDelete.map(function (item) {\n      return item.id;\n    }).join(', ');\n    axios.delete(`http://localhost:8011/users-management/users/${result}`, {\n      headers: {\n        'Authorization': 'Bearer ' + sessionStorage.getItem('user_token')\n      }\n    }).then(function (response) {\n      fetchData();\n    }).catch(function (error) {\n      // handle error\n      history.push(\"/\");\n    }).finally(function () {// always executed\n    });\n  };\n\n  const fetchData = async () => {\n    axios.get(`http://localhost:8011/users-management/users`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + sessionStorage.getItem('user_token')\n      }\n    }).then(function (response) {\n      setResult(response.data);\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    }).finally(function () {// always executed\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AsideMenuComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MUIDataTable, {\n    title: \"App Users List\",\n    data: result,\n    columns: columns,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default IndexPage;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/IndexPage/IndexPage.js"],"names":["React","useState","useEffect","scroller","NavbarComponent","AsideMenuComponent","MUIDataTable","useHistory","CheckCircleIcon","CloseIcon","axios","require","IndexPage","result","setResult","history","goToEdit","value","push","options","filterType","rowHover","onRowsDelete","rowsDeleted","rowsToDelete","data","map","d","dataIndex","handleDelete","onRowClick","event","rowData","columns","name","label","filter","display","customBodyRender","color","recordsToDelete","item","id","join","delete","headers","sessionStorage","getItem","then","response","fetchData","catch","error","finally","get","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport scroller from 'react-scroll';\nimport NavbarComponent from '../Components/NavbarComponent';\nimport AsideMenuComponent from '../Components/AsideMenuComponent';\nimport MUIDataTable from \"mui-datatables\";\nimport { useHistory } from \"react-router-dom\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst axios = require('axios');\n\nfunction IndexPage() {\n    const [result, setResult] = useState([]);\n    let history = useHistory();\n\n    const goToEdit = (value) => {\n        history.push(\"/admin?user=\" + value[1]);\n    }\n\n    const options = {\n        filterType: 'dropdown',\n        rowHover: true,\n        onRowsDelete: (rowsDeleted) => {\n            const rowsToDelete = rowsDeleted.data.map((d) => result[d.dataIndex]);\n            handleDelete(rowsToDelete);\n        },\n        onRowClick: (event, rowData) => {\n            goToEdit(event);\n        },\n    };\n\n    const columns = [\n\n        {\n            name: \"id\",\n            label: \"ID\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"username\",\n            label: \"USERNAME\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"firstName\",\n            label: \"NAME\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"lastName\",\n            label: \"SURNAME\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"mobile\",\n            label: \"MOBILE PHONE\",\n            options: {\n                filter: true,\n                display: false\n            }\n        },\n        {\n            name: \"company\",\n            label: \"COMPANY\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"isActive\",\n            label: \"IS ACTIVE\",\n            options: {\n                filter: true,\n                customBodyRender: (value) => {\n                \n                    if(value === \"Y\"){\n                    return (\n                        <CheckCircleIcon style={{ color: '#64A205' }}/>\n                      );\n                    }else{\n                        return (\n                        <CloseIcon style={{ color: '#C71E03' }}/>\n                        );\n                    }\n                }\n                //CheckCircleIcon\n            }\n        },\n\n    ];\n\n    const handleDelete = (recordsToDelete) => {\n\n\n        var result = recordsToDelete.map(function (item) {\n            return item.id;\n        }).join(', ');\n\n        axios.delete(`http://localhost:8011/users-management/users/${result}`, {\n            headers: {\n\n                'Authorization': 'Bearer ' + sessionStorage.getItem('user_token')\n\n            }\n        }).then(function (response) {\n            fetchData();\n\n        })\n            .catch(function (error) {\n                // handle error\n                history.push(\"/\");\n\n            })\n            .finally(function () {\n                // always executed\n            });\n\n    }\n\n\n    const fetchData = async () => {\n        axios.get(`http://localhost:8011/users-management/users`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + sessionStorage.getItem('user_token'),\n\n            }\n\n        })\n            .then(function (response) {\n\n                setResult(response.data);\n            })\n            .catch(function (error) {\n                // handle error\n                console.log(error);\n\n            })\n            .finally(function () {\n                // always executed\n            });\n\n\n    };\n    useEffect(() => { fetchData() }, []);\n\n    return (\n        <>\n            <div className='container'>\n                <NavbarComponent />\n            </div>\n            <div className='columns'>\n                <div className='column'>\n\n                </div>\n                <div className='column is-2'>\n                    <AsideMenuComponent />\n                </div>\n                <div className='column is-8'>\n\n                    <MUIDataTable\n                        title={\"App Users List\"}\n                        data={result}\n                        columns={columns}\n                        options={options}\n                    />\n                </div>\n                <div className='column'>\n\n                </div>\n            </div>\n\n\n\n\n        </>\n    );\n}\nexport default IndexPage;"]},"metadata":{},"sourceType":"module"}