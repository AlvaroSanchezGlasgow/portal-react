{"ast":null,"code":"var _jsxFileName = \"/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/TrackerAdmin/AddTrackPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport PublicNavbarComponent from '../Components/PublicNavbarComponent';\nimport bulmaCalendar from 'bulma-calendar/dist/js/bulma-calendar.min';\nimport ErrorIcon from '@material-ui/icons/Error';\n\nconst axios = require('axios');\n\nlet flag = true;\n\nfunction AddTrackPage() {\n  const [trackObject, setTrackObject] = useState([]);\n  const [areaList, setAreaList] = useState([]);\n  const [clientId, setClientID] = useState();\n  const [sending, setSending] = useState(false);\n  let history = useHistory();\n  useEffect(props => {\n    // Initialize all input of date type.\n    const calendars = bulmaCalendar.attach('[type=\"date\"]', {\n      showFooter: false,\n      dateFormat: 'DD/MM/YYYY'\n    }); //alert(JSON.stringify(value));\n\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const clientUrl = params.get('client');\n    setClientID(clientUrl); //We call the api\n\n    axios.get(`http://localhost:8011/tracker-areas/areas`, {\n      headers: {}\n    }).then(function (response) {\n      setAreaList(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    });\n  }, []);\n\n  const handleChangeTrackObject = e => {\n    setTrackObject({ ...trackObject,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = evt => {\n    setSending(true);\n    flag = true;\n\n    if (!trackObject.area_id) {\n      flag = false;\n    }\n\n    if (!document.querySelector(\"#dateAction\").value) {\n      flag = false;\n    }\n\n    if (!trackObject.name) {\n      flag = false;\n    }\n\n    if (!trackObject.role) {\n      flag = false;\n    }\n\n    if (!trackObject.comment) {\n      flag = false;\n    }\n\n    var params = new URLSearchParams();\n    params.append('client_id', clientId);\n    params.append('area_id', trackObject.area_id);\n    params.append('dateAction', document.querySelector(\"#dateAction\").value);\n    params.append('name', trackObject.name);\n    params.append('role', trackObject.role);\n    params.append('comment', trackObject.comment.replace(/\\r?\\n/g, '<br />'));\n    axios.post(`http://localhost:8011/client-tracker/tracks`, params, {\n      headers: {}\n    }).then(function (response) {\n      history.push(`/client_tracker?client=${clientId}`);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PublicNavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"breadcrumb\",\n    \"aria-label\": \"breadcrumbs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/client_tracker\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 29\n    }\n  }, \"Client Tracker\")), /*#__PURE__*/React.createElement(\"li\", {\n    class: \"is-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 47\n    }\n  }, \"Add Tracker\")))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main_index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, \"Add Client Tracker\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }, \"Client ID\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"client_id\",\n    id: \"client_id\",\n    value: clientId,\n    type: \"text\",\n    maxLength: \"50\",\n    required: true,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 37\n    }\n  }, \"Area\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"area_id\",\n    id: \"area_id\",\n    onChange: e => handleChangeTrackObject(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 41\n    }\n  }, \"Select Option\"), areaList.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 53\n      }\n    }, item.title);\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 37\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"dateAction\",\n    id: \"dateAction\",\n    type: \"date\",\n    onChange: e => handleChangeTrackObject(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 41\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"name\",\n    id: \"name\",\n    type: \"text\",\n    maxLength: \"50\",\n    onChange: e => handleChangeTrackObject(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"role\",\n    id: \"role\",\n    type: \"text\",\n    maxLength: \"50\",\n    onChange: e => handleChangeTrackObject(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 41\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 37\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    class: \"textarea\",\n    name: \"comment\",\n    id: \"comment\",\n    rows: \"3\",\n    maxLength: \"90\",\n    onChange: e => handleChangeTrackObject(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 41\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field is-grouped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-text\",\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 105\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 127\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-primary\",\n    onClick: () => handleSubmit(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 41\n    }\n  }, \"Submit\"))))))))));\n}\n\nexport default AddTrackPage;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/TrackerAdmin/AddTrackPage.js"],"names":["React","useState","useEffect","useHistory","ArrowBackIcon","Tooltip","PublicNavbarComponent","bulmaCalendar","ErrorIcon","axios","require","flag","AddTrackPage","trackObject","setTrackObject","areaList","setAreaList","clientId","setClientID","sending","setSending","history","props","calendars","attach","showFooter","dateFormat","search","window","location","params","URLSearchParams","clientUrl","get","headers","then","response","data","catch","error","finally","handleChangeTrackObject","e","target","name","value","handleSubmit","evt","area_id","document","querySelector","role","comment","append","replace","post","push","map","item","id","title","goBack"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport PublicNavbarComponent from '../Components/PublicNavbarComponent';\nimport bulmaCalendar from 'bulma-calendar/dist/js/bulma-calendar.min';\nimport ErrorIcon from '@material-ui/icons/Error';\nconst axios = require('axios');\n\nlet flag = true;\n\nfunction AddTrackPage() {\n    const [trackObject, setTrackObject] = useState([]);\n    const [areaList, setAreaList] = useState([]);\n    const [clientId, setClientID] = useState();\n    const [sending, setSending] = useState(false);\n\n    let history = useHistory();\n\n    useEffect((props) => {\n        \n        \n         // Initialize all input of date type.\n    const calendars = bulmaCalendar.attach('[type=\"date\"]', {\n        showFooter: false,\n        dateFormat: 'DD/MM/YYYY'\n    });\n\n    \n        //alert(JSON.stringify(value));\n\n        const search = window.location.search;\n        const params = new URLSearchParams(search);\n        const clientUrl = params.get('client');\n       \n        setClientID(clientUrl);\n\n        //We call the api\n        axios.get(`http://localhost:8011/tracker-areas/areas`, {\n            headers: {\n              \n            }\n        }\n        )\n            .then(function (response) {\n                setAreaList(response.data);\n\n\n            })\n            .catch(function (error) {\n                // handle error\n\n            })\n            .finally(function () {\n                // always executed\n            });\n        \n    }, []);\n\n    \n    const handleChangeTrackObject = (e) => {\n        setTrackObject(\n            { ...trackObject, [e.target.name]: e.target.value }\n        )\n    }\n\n    const handleSubmit = (evt) => {\n\n        setSending(true);\n        flag = true;\n  \n      if (!trackObject.area_id) {\n          flag = false;\n      }\n      if (!document.querySelector(\"#dateAction\").value) {\n          flag = false;\n      }\n      if (!trackObject.name) {\n          flag = false;\n      }\n      if (!trackObject.role) {\n        flag = false;\n      }\n      if (!trackObject.comment) {\n        flag = false;\n      }\n\n        var params = new URLSearchParams();\n        params.append('client_id', clientId);\n        params.append('area_id', trackObject.area_id);\n        params.append('dateAction', document.querySelector(\"#dateAction\").value);\n        params.append('name', trackObject.name);\n        params.append('role', trackObject.role);\n        params.append('comment', trackObject.comment.replace(/\\r?\\n/g, '<br />'));\n  \n\n        axios.post(`http://localhost:8011/client-tracker/tracks`, params, {\n            headers: {\n\n            }\n        }).then(function (response) {\n            history.push(`/client_tracker?client=${clientId}`);\n\n        })\n            .catch(function (error) {\n                // handle error\n\n            })\n            .finally(function () {\n                // always executed\n            });\n\n    }\n\n    return (\n        <>\n              <div class='container'>\n               <PublicNavbarComponent />\n                <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n                    <ul>\n                        <li><a href=\"/\">Home</a></li>\n                        <li><a href=\"/client_tracker\">Client Tracker</a></li>\n                        <li class=\"is-active\"><a href=\"\">Add Tracker</a></li>\n                    </ul>\n                </nav>\n                <div id='main_index'>\n                    <h2>Add Client Tracker</h2>\n\n                </div>\n                <div class=\"card\">\n                    <div class=\"card-content\">\n                        <div class='columns'>\n\n                            <div class='column'>\n                                <div class=\"field\">\n                                    <label class=\"label\">Client ID</label>\n                                    <div class=\"control\">\n                                        <input class=\"input\" name=\"client_id\" id=\"client_id\" value={clientId} type=\"text\" maxLength='50' required readOnly />\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class='column'>\n                                <div class=\"field\">\n                                    <label class=\"label\">Area</label>\n                                    <div class=\"select\">\n                                    <select name='area_id' id='area_id' onChange={e => handleChangeTrackObject(e)}>\n                                        <option value=\"0\">Select Option</option>\n                                        {\n                                            areaList.map(function(item){\n                                                return(\n                                                    <option value={item.id}>{item.title}</option>\n                                                  )\n                                            })\n                                        }\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class='column'>\n                                <div class=\"field\">\n                                    <label class=\"label\">Date</label>\n                                    <div class=\"control\">\n                                        <input class=\"input\" name=\"dateAction\" id=\"dateAction\" type=\"date\" onChange={e => handleChangeTrackObject(e)}/>\n                                        \n                                    </div>\n                                </div>\n                            </div>\n                            </div>\n                        <div class='columns'>\n                            <div class='column'>\n                                <div class=\"field\">\n                                    <label class=\"label\">Name</label>\n                                    <div class=\"control\">\n                                        <input class=\"input\" name=\"name\" id=\"name\" type=\"text\" maxLength='50'onChange={e => handleChangeTrackObject(e)}/>\n                                    </div>\n                                </div>\n                            </div>\n                       \n                            <div class='column'>\n                                <div class=\"field\">\n                                    <label class=\"label\">Role</label>\n                                    <div class=\"control\">\n                                        <input class=\"input\" name=\"role\" id=\"role\"  type=\"text\" maxLength='50' onChange={e => handleChangeTrackObject(e)}/>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class='column'>\n                                <div class=\"field\">\n                                    <label class=\"label\">Comment</label>\n                                    <div class=\"control\">\n                                        <textarea class=\"textarea\" name=\"comment\" id=\"comment\" rows=\"3\" maxLength='90' onChange={e => handleChangeTrackObject(e)}></textarea>\n                                 </div>\n                                </div>\n                            </div>\n                        </div>\n                       \n                        <div class='columns is-centered'>\n                        <center>\n                            <div class='column'>\n                            \n                                <div class=\"field is-grouped\">\n                                \n                                    <div class=\"control\">                        \n                                        <button class=\"button is-text\" onClick={() => history.goBack()}><Tooltip title=\"back\"><ArrowBackIcon /></Tooltip></button>\n                                    </div>\n                                    <div class=\"control\">\n                                        <button class=\"button is-primary\" onClick={() => handleSubmit()} >Submit</button>\n                                    </div>\n                                   \n                                </div>\n                               \n                            </div>\n                            </center>\n                        </div>\n                       \n                    </div>\n                    \n             \n                    </div>\n            </div>\n        </>\n    );\n}\n\nexport default AddTrackPage;"]},"metadata":{},"sourceType":"module"}