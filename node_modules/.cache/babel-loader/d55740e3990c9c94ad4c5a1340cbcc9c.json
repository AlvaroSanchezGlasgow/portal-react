{"ast":null,"code":"var _jsxFileName = \"C:\\\\personal_workspace\\\\portal-react\\\\src\\\\UserAdmin\\\\UsersPage.js\";\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport NavbarComponent from \"../Components/NavbarComponent\";\nimport MUIDataTable from \"mui-datatables\";\nimport { useHistory } from \"react-router-dom\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst axios = require(\"axios\");\n\nfunction UsersPage() {\n  const [result, setResult] = useState([]);\n  let history = useHistory();\n\n  const goToEdit = value => {\n    history.push(\"/admin?user=\" + value[1]);\n  };\n\n  const options = {\n    filterType: \"dropdown\",\n    rowHover: true,\n    onRowsDelete: rowsDeleted => {\n      const rowsToDelete = rowsDeleted.data.map(d => result[d.dataIndex]);\n      handleDelete(rowsToDelete);\n    },\n    onRowClick: (event, rowData) => {\n      goToEdit(event);\n    },\n    rowsPerPageOptions: [5, 10]\n  };\n  const columns = [{\n    name: \"id\",\n    label: \"ID\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"username\",\n    label: \"USERNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"firstName\",\n    label: \"NAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"lastName\",\n    label: \"SURNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"email\",\n    label: \"EMAIL\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"comment\",\n    label: \"COMMENT\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"isActive\",\n    label: \"ACTIVE\",\n    options: {\n      filter: true,\n      customBodyRender: value => {\n        if (value === \"Y\") {\n          return /*#__PURE__*/React.createElement(CheckCircleIcon, {\n            style: {\n              color: \"#64A205\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 20\n            }\n          });\n        } else {\n          return /*#__PURE__*/React.createElement(CloseIcon, {\n            style: {\n              color: \"#C71E03\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 20\n            }\n          });\n        }\n      } //CheckCircleIcon\n\n    }\n  }];\n\n  const handleDelete = recordsToDelete => {\n    var result = recordsToDelete.map(function (item) {\n      return item.id;\n    }).join(\", \");\n    axios.delete(`${process.env.REACT_APP_API_ROOT_URL}/users-management/users/${result}`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      fetchData();\n    }).catch(function (error) {\n      console.log(\"Error Fetching Data: \" + error);\n      history.push(\"/\");\n    }).finally(function () {// always executed\n    });\n  };\n\n  const fetchData = async () => {\n    axios.get(`${process.env.REACT_APP_API_ROOT_URL}/users-management/users`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      setResult(response.data);\n    }).catch(function (error) {\n      // handle error\n      console.log(\"Error Fetching Data: \" + error);\n      history.push(\"/\");\n    }).finally(function () {// always executed\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(NavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main_index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, \"App Users\")))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button is-primary\",\n    onClick: () => history.push(\"/new-user\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, \"New User\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MUIDataTable, {\n    title: \"\",\n    data: result,\n    columns: columns,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  })))));\n}\n\nexport default UsersPage;","map":{"version":3,"sources":["C:/personal_workspace/portal-react/src/UserAdmin/UsersPage.js"],"names":["React","useState","useEffect","NavbarComponent","MUIDataTable","useHistory","CheckCircleIcon","CloseIcon","axios","require","UsersPage","result","setResult","history","goToEdit","value","push","options","filterType","rowHover","onRowsDelete","rowsDeleted","rowsToDelete","data","map","d","dataIndex","handleDelete","onRowClick","event","rowData","rowsPerPageOptions","columns","name","label","filter","customBodyRender","color","recordsToDelete","item","id","join","delete","process","env","REACT_APP_API_ROOT_URL","headers","Authorization","sessionStorage","getItem","then","response","fetchData","catch","error","console","log","finally","get"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport NavbarComponent from \"../Components/NavbarComponent\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nfunction UsersPage() {\r\n  const [result, setResult] = useState([]);\r\n  let history = useHistory();\r\n\r\n  const goToEdit = (value) => {\r\n    history.push(\"/admin?user=\" + value[1]);\r\n  };\r\n\r\n  const options = {\r\n    filterType: \"dropdown\",\r\n    rowHover: true,\r\n    onRowsDelete: (rowsDeleted) => {\r\n      const rowsToDelete = rowsDeleted.data.map((d) => result[d.dataIndex]);\r\n      handleDelete(rowsToDelete);\r\n    },\r\n    onRowClick: (event, rowData) => {\r\n      goToEdit(event);\r\n    },\r\n    rowsPerPageOptions: [5, 10],\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      name: \"id\",\r\n      label: \"ID\",\r\n      options: {\r\n        filter: true,\r\n      },\r\n    },\r\n    {\r\n      name: \"username\",\r\n      label: \"USERNAME\",\r\n      options: {\r\n        filter: true,\r\n      },\r\n    },\r\n    {\r\n      name: \"firstName\",\r\n      label: \"NAME\",\r\n      options: {\r\n        filter: true,\r\n      },\r\n    },\r\n    {\r\n      name: \"lastName\",\r\n      label: \"SURNAME\",\r\n      options: {\r\n        filter: true,\r\n      },\r\n    },\r\n    {\r\n      name: \"email\",\r\n      label: \"EMAIL\",\r\n      options: {\r\n        filter: true,\r\n      },\r\n    },\r\n    {\r\n      name: \"comment\",\r\n      label: \"COMMENT\",\r\n      options: {\r\n        filter: true,\r\n      },\r\n    },\r\n    {\r\n      name: \"isActive\",\r\n      label: \"ACTIVE\",\r\n      options: {\r\n        filter: true,\r\n        customBodyRender: (value) => {\r\n          if (value === \"Y\") {\r\n            return <CheckCircleIcon style={{ color: \"#64A205\" }} />;\r\n          } else {\r\n            return <CloseIcon style={{ color: \"#C71E03\" }} />;\r\n          }\r\n        },\r\n        //CheckCircleIcon\r\n      },\r\n    },\r\n  ];\r\n\r\n  const handleDelete = (recordsToDelete) => {\r\n    var result = recordsToDelete\r\n      .map(function (item) {\r\n        return item.id;\r\n      })\r\n      .join(\", \");\r\n\r\n    axios\r\n      .delete(\r\n        `${process.env.REACT_APP_API_ROOT_URL}/users-management/users/${result}`,\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\r\n          },\r\n        }\r\n      )\r\n      .then(function (response) {\r\n        fetchData();\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error Fetching Data: \" + error);\r\n        history.push(\"/\");\r\n      })\r\n      .finally(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_API_ROOT_URL}/users-management/users`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\r\n        },\r\n      })\r\n      .then(function (response) {\r\n        setResult(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(\"Error Fetching Data: \" + error);\r\n        history.push(\"/\");\r\n      })\r\n      .finally(function () {\r\n        // always executed\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n   \r\n   <section>\r\n   <NavbarComponent />\r\n      <div className=\"container\">\r\n        \r\n        <div className=\"columns\">\r\n          <div className=\"column\">\r\n            <div id=\"main_index\">\r\n              <h2>App Users</h2>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button className=\"button is-primary\" onClick={()=>history.push(\"/new-user\")}>New User</button>\r\n        <div className=\"columns\">\r\n          \r\n          <div className=\"column is-12\">\r\n            <MUIDataTable\r\n              title={\"\"}\r\n              data={result}\r\n              columns={columns}\r\n              options={options}\r\n            />\r\n          </div>\r\n          <div className=\"column\"></div>\r\n        </div>\r\n      </div>\r\n      </section>\r\n     \r\n    </>\r\n  );\r\n}\r\nexport default UsersPage;\r\n"]},"metadata":{},"sourceType":"module"}