{"ast":null,"code":"var _jsxFileName = \"/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/ClientAdmin/EditClientPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport NavbarComponent from \"../Components/NavbarComponent\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport AsideDrawerComponent from \"../Components/AsideDrawerComponent\";\n\nconst axios = require(\"axios\");\n\nlet flag = true;\n\nfunction EditClientPage() {\n  const [clientObject, setClientObject] = useState([]);\n  const [tierObject, setTierObject] = useState([]);\n  const [sectorObject, setSectorObject] = useState([]);\n  const [sending, setSending] = useState(false);\n  const [errorMessage, setError] = useState([]);\n  let history = useHistory();\n  useEffect(props => {\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const clientUrl = params.get(\"client\"); //We call the api\n\n    axios.get(`${process.env.REACT_APP_API_ROOT_URL}/client-management/clients/${clientUrl}`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      setClientObject(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    }); //We call the api\n\n    axios.get(`${process.env.REACT_APP_API_ROOT_URL}/sector-manager/sector`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      setSectorObject(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    }); //We call the api\n\n    axios.get(`${process.env.REACT_APP_API_ROOT_URL}/tier-manager/tier`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      setTierObject(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    });\n  }, []);\n\n  const handleChangeClientObject = e => {\n    setClientObject({ ...clientObject,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      handleSubmit();\n    }\n  };\n\n  const handleSubmit = evt => {\n    setSending(true);\n    flag = true;\n\n    if (!clientObject.name) {\n      flag = false;\n    }\n\n    if (!clientObject.website) {\n      flag = false;\n    }\n\n    if (!clientObject.clientManager) {\n      flag = false;\n    }\n\n    if (!clientObject.tier) {\n      flag = false;\n    }\n\n    if (!clientObject.sector) {\n      flag = false;\n    }\n\n    var params = new URLSearchParams();\n    params.append(\"id\", clientObject.id);\n    params.append(\"name\", clientObject.name);\n    params.append(\"website\", clientObject.website);\n    params.append(\"clientManager\", clientObject.clientManager);\n    params.append(\"tier\", clientObject.tier);\n    params.append(\"sector\", clientObject.sector);\n\n    if (flag) {\n      axios.post(`${process.env.REACT_APP_API_ROOT_URL}/client-management/clients`, params, {\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n        }\n      }).then(function (response) {\n        history.push(\"/client-mng\");\n      }).catch(function (error) {\n        console.log(\"Error : \" + error);\n        setError(error);\n      }).finally(function () {// always executed\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"breadcrumb\",\n    \"aria-label\": \"breadcrumbs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n    class: \"is-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    \"aria-current\": \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"Edit Client\")))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main_index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, \"Edit Client\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AsideDrawerComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-11\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 23\n    }\n  }, \"Id\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"id\",\n    id: \"id\",\n    value: clientObject.id,\n    type: \"text\",\n    placeholder: \"name\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 23\n    }\n  }, \"Tier\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"select is-fullwidth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"tier\",\n    id: \"tier\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    value: clientObject.tier,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 29\n    }\n  }, \"Select\"), tierObject.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 33\n      }\n    }, item.id + \" - \" + item.tier_title);\n  }))), sending && !clientObject.tier && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, \"Mandatory Field\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 23\n    }\n  }, \"Sector\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"select select is-fullwidth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"sector\",\n    id: \"sector\",\n    value: clientObject.sector,\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 29\n    }\n  }, \"Select\"), sectorObject.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    }, item.title);\n  }))), sending && !clientObject.sector && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 29\n    }\n  }, \"Mandatory Field\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 23\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"name\",\n    id: \"name\",\n    value: clientObject.name,\n    type: \"text\",\n    placeholder: \"name\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 25\n    }\n  }), sending && !clientObject.name && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 29\n    }\n  }, \"Mandatory Field\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 23\n    }\n  }, \"Website\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"website\",\n    id: \"website\",\n    value: clientObject.website,\n    type: \"text\",\n    placeholder: \"website\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 25\n    }\n  }), sending && !clientObject.website && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 29\n    }\n  }, \"Mandatory Field\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 23\n    }\n  }, \"Client Manager\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    class: \"input\",\n    name: \"clientManager\",\n    id: \"clientManager\",\n    value: clientObject.clientManager,\n    type: \"text\",\n    placeholder: \"name\",\n    onChange: e => handleChangeClientObject(e),\n    onKeyPress: e => handleKeyPress(e),\n    maxLength: \"50\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 25\n    }\n  }), sending && !clientObject.clientManager && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    variant: \"outlined\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 29\n    }\n  }, \"Mandatory Field\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 17\n    }\n  }, errorMessage.message && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AlertTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 23\n    }\n  }, \"Error\"), \"Error editing the selected client. Please, try again\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field is-grouped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-text\",\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 27\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-primary\",\n    onClick: () => handleSubmit(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 27\n    }\n  }, \"Submit\"))))))))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default EditClientPage;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/ClientAdmin/EditClientPage.js"],"names":["React","useState","useEffect","NavbarComponent","useHistory","Alert","AlertTitle","AsideDrawerComponent","axios","require","flag","EditClientPage","clientObject","setClientObject","tierObject","setTierObject","sectorObject","setSectorObject","sending","setSending","errorMessage","setError","history","props","search","window","location","params","URLSearchParams","clientUrl","get","process","env","REACT_APP_API_ROOT_URL","headers","Authorization","sessionStorage","getItem","then","response","data","catch","error","finally","handleChangeClientObject","e","target","name","value","handleKeyPress","event","key","handleSubmit","evt","website","clientManager","tier","sector","append","id","post","push","console","log","map","item","tier_title","title","message","goBack"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport NavbarComponent from \"../Components/NavbarComponent\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport AsideDrawerComponent from \"../Components/AsideDrawerComponent\";\n\nconst axios = require(\"axios\");\n\nlet flag = true;\n\nfunction EditClientPage() {\n  const [clientObject, setClientObject] = useState([]);\n  const [tierObject, setTierObject] = useState([]);\n  const [sectorObject, setSectorObject] = useState([]);\n  const [sending, setSending] = useState(false);\n  const [errorMessage, setError] = useState([]);\n\n  let history = useHistory();\n\n  useEffect((props) => {\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const clientUrl = params.get(\"client\");\n\n    //We call the api\n    axios\n      .get(\n        `${process.env.REACT_APP_API_ROOT_URL}/client-management/clients/${clientUrl}`,\n        {\n          headers: {\n            Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\n          },\n        }\n      )\n      .then(function (response) {\n        setClientObject(response.data);\n      })\n      .catch(function (error) {\n        // handle error\n      })\n      .finally(function () {\n        // always executed\n      });\n\n    //We call the api\n    axios\n      .get(`${process.env.REACT_APP_API_ROOT_URL}/sector-manager/sector`, {\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\n        },\n      })\n      .then(function (response) {\n        setSectorObject(response.data);\n      })\n      .catch(function (error) {\n        // handle error\n      })\n      .finally(function () {\n        // always executed\n      });\n\n    //We call the api\n    axios\n      .get(`${process.env.REACT_APP_API_ROOT_URL}/tier-manager/tier`, {\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\n        },\n      })\n      .then(function (response) {\n        setTierObject(response.data);\n      })\n      .catch(function (error) {\n        // handle error\n      })\n      .finally(function () {\n        // always executed\n      });\n  }, []);\n\n  const handleChangeClientObject = (e) => {\n    setClientObject({ ...clientObject, [e.target.name]: e.target.value });\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      handleSubmit();\n    }\n  };\n\n  const handleSubmit = (evt) => {\n    setSending(true);\n    flag = true;\n\n    if (!clientObject.name) {\n      flag = false;\n    }\n    if (!clientObject.website) {\n      flag = false;\n    }\n    if (!clientObject.clientManager) {\n      flag = false;\n    }\n    if (!clientObject.tier) {\n      flag = false;\n    }\n    if (!clientObject.sector) {\n      flag = false;\n    }\n\n    var params = new URLSearchParams();\n    params.append(\"id\", clientObject.id);\n    params.append(\"name\", clientObject.name);\n    params.append(\"website\", clientObject.website);\n    params.append(\"clientManager\", clientObject.clientManager);\n    params.append(\"tier\", clientObject.tier);\n    params.append(\"sector\", clientObject.sector);\n\n    if (flag) {\n      axios\n        .post(\n          `${process.env.REACT_APP_API_ROOT_URL}/client-management/clients`,\n          params,\n          {\n            headers: {\n              Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\n            },\n          }\n        )\n        .then(function (response) {\n          history.push(\"/client-mng\");\n        })\n        .catch(function (error) {\n          console.log(\"Error : \" + error);\n          setError(error);\n        })\n        .finally(function () {\n          // always executed\n        });\n    }\n  };\n\n  return (\n    <>\n      <div class=\"container\">\n        <NavbarComponent />\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n          <ul>\n            <li>\n              <a href=\"/index\">Home</a>\n            </li>\n            <li class=\"is-active\">\n              <a href=\"\" aria-current=\"page\">\n                Edit Client\n              </a>\n            </li>\n          </ul>\n        </nav>\n        <div id=\"main_index\">\n          <h2>Edit Client</h2>\n        </div>\n        <div className=\"columns\">\n          <div className=\"column\">\n            <AsideDrawerComponent />\n          </div>\n          <div className=\"column is-11\">\n            <div class=\"card\">\n              <div class=\"card-content\">\n                <div class=\"columns\">\n                  <div class=\"column\">\n                    <div class=\"field\">\n                      <label class=\"label\">Id</label>\n                      <div class=\"control\">\n                        <input\n                          class=\"input\"\n                          name=\"id\"\n                          id=\"id\"\n                          value={clientObject.id}\n                          type=\"text\"\n                          placeholder=\"name\"\n                          onChange={(e) => handleChangeClientObject(e)}\n                          onKeyPress={(e) => handleKeyPress(e)}\n                          maxLength=\"50\"\n                          required\n                          readOnly\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"column\">\n                    <div class=\"field\">\n                      <label class=\"label\">Tier</label>\n                      <div class=\"control\">\n                        <div class=\"select is-fullwidth\">\n                          <select\n                            name=\"tier\"\n                            id=\"tier\"\n                            onChange={(e) => handleChangeClientObject(e)}\n                            onKeyPress={(e) => handleKeyPress(e)}\n                            value={clientObject.tier}\n                            required\n                          >\n                            <option selected value=\"\">\n                              Select\n                            </option>\n                            {tierObject.map(function (item) {\n                              return (\n                                <option value={item.id}>\n                                  {item.id + \" - \" + item.tier_title}\n                                </option>\n                              );\n                            })}\n                          </select>\n                        </div>\n                        {sending && !clientObject.tier && (\n                          <>\n                            <Alert variant=\"outlined\" severity=\"error\">\n                              Mandatory Field\n                            </Alert>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"column\">\n                    <div class=\"field\">\n                      <label class=\"label\">Sector</label>\n                      <div class=\"control\">\n                        <div class=\"select select is-fullwidth\">\n                          <select\n                            name=\"sector\"\n                            id=\"sector\"\n                            value={clientObject.sector}\n                            onChange={(e) => handleChangeClientObject(e)}\n                            onKeyPress={(e) => handleKeyPress(e)}\n                            required\n                          >\n                            <option selected value=\"\">\n                              Select\n                            </option>\n                            {sectorObject.map(function (item) {\n                              return (\n                                <option value={item.id}>{item.title}</option>\n                              );\n                            })}\n                          </select>\n                        </div>\n                        {sending && !clientObject.sector && (\n                          <>\n                            <Alert variant=\"outlined\" severity=\"error\">\n                              Mandatory Field\n                            </Alert>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"columns\">\n                  <div class=\"column\">\n                    <div class=\"field\">\n                      <label class=\"label\">Name</label>\n                      <div class=\"control\">\n                        <input\n                          class=\"input\"\n                          name=\"name\"\n                          id=\"name\"\n                          value={clientObject.name}\n                          type=\"text\"\n                          placeholder=\"name\"\n                          onChange={(e) => handleChangeClientObject(e)}\n                          onKeyPress={(e) => handleKeyPress(e)}\n                          maxLength=\"50\"\n                          required\n                        />\n                        {sending && !clientObject.name && (\n                          <>\n                            <Alert variant=\"outlined\" severity=\"error\">\n                              Mandatory Field\n                            </Alert>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"column\">\n                    <div class=\"field\">\n                      <label class=\"label\">Website</label>\n                      <div class=\"control\">\n                        <input\n                          class=\"input\"\n                          name=\"website\"\n                          id=\"website\"\n                          value={clientObject.website}\n                          type=\"text\"\n                          placeholder=\"website\"\n                          onChange={(e) => handleChangeClientObject(e)}\n                          onKeyPress={(e) => handleKeyPress(e)}\n                          maxLength=\"50\"\n                          required\n                        />\n                        {sending && !clientObject.website && (\n                          <>\n                            <Alert variant=\"outlined\" severity=\"error\">\n                              Mandatory Field\n                            </Alert>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"column\">\n                    <div class=\"field\">\n                      <label class=\"label\">Client Manager</label>\n                      <div class=\"control\">\n                        <input\n                          class=\"input\"\n                          name=\"clientManager\"\n                          id=\"clientManager\"\n                          value={clientObject.clientManager}\n                          type=\"text\"\n                          placeholder=\"name\"\n                          onChange={(e) => handleChangeClientObject(e)}\n                          onKeyPress={(e) => handleKeyPress(e)}\n                          maxLength=\"50\"\n                          required\n                        />\n                        {sending && !clientObject.clientManager && (\n                          <>\n                            <Alert variant=\"outlined\" severity=\"error\">\n                              Mandatory Field\n                            </Alert>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"columns is-centered\">\n                  {errorMessage.message && (\n                    <Alert severity=\"error\">\n                      <AlertTitle>Error</AlertTitle>\n                      {\"Error editing the selected client. Please, try again\"}\n                    </Alert>\n                  )}\n                </div>\n                <div class=\"columns is-centered\">\n                  <center>\n                    <div class=\"column\">\n                      <div class=\"field is-grouped\">\n                        <div class=\"control\">\n                          <button\n                            class=\"button is-text\"\n                            onClick={() => history.goBack()}\n                          >\n                            Cancel\n                          </button>\n                        </div>\n                        <div class=\"control\">\n                          <button\n                            class=\"button is-primary\"\n                            onClick={() => handleSubmit()}\n                          >\n                            Submit\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </center>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n      <br />\n    </>\n  );\n}\n\nexport default EditClientPage;\n"]},"metadata":{},"sourceType":"module"}