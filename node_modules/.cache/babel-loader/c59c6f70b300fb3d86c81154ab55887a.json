{"ast":null,"code":"var _jsxFileName = \"C:\\\\personal_workspace\\\\portal-react\\\\src\\\\LoginPage\\\\LoginPage.js\";\nimport React, { useState } from \"react\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport { useHistory } from \"react-router-dom\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport metrics from \"../Static/Img/svg/metrics.svg\";\nimport axios from \"axios\"; //import cookie from 'react-cookies'\n\nfunction LoginPage() {\n  const [show, setShow] = useState();\n  const [userName, setUserName] = useState();\n  const [userPassword, setUserPassword] = useState();\n  const [error, setError] = useState(false);\n  let history = useHistory();\n\n  const handleChangeUser = e => {\n    setUserName(e.target.value);\n  };\n\n  const handleChangePassword = e => {\n    setUserPassword(e.target.value);\n  };\n\n  const handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      submitLogin();\n    }\n  };\n\n  const submitLogin = () => {\n    if (userName && userPassword) {\n      const body = new FormData();\n      body.append(\"grant_type\", \"password\");\n      body.append(\"username\", userName);\n      body.append(\"password\", userPassword); // setLoading(true);\n      //We call the api\n\n      axios.post(`${process.env.REACT_APP_API_ROOT_URL}/oauth/token`, body, {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          Authorization: \"Basic cG9ydGFsLWNsaTpwYXNzd29yZA==\" //'Access-Control-Allow-Origin' : '*',\n          //'Access-Control-Allow-Headers' : 'Content-Type,X-Requested-With, content-type, access-control-allow-origin, access-control-allow-methods, access-control-allow-headers',\n\n        }\n      }).then(function (response) {\n        // handle success\n        sessionStorage.setItem(\"user_token\", response.data.access_token);\n        sessionStorage.setItem(\"username\", userName);\n        history.push(\"/home\");\n      }).catch(function (error) {\n        // handle error\n        setError(error.message);\n      }).finally(function () {// always executed\n      }); // setLoading(false)\n    } else {\n      setError(\"All fields need to be completed\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-vcentered is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"figure\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    src: metrics,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column is-third-fours\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"is-centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main_index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, \"Business Development\")), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, \"Your tool to track and manage business contacts development\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"control has-icons-left has-icons-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input\",\n    type: \"email\",\n    placeholder: \"user\",\n    onChange: e => handleChangeUser(e),\n    onKeyPress: e => handleKeyPress(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon is-small is-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(PersonIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"control has-icons-left has-icons-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input\",\n    type: \"password\",\n    placeholder: \"password\",\n    onChange: e => handleChangePassword(e),\n    onKeyPress: e => handleKeyPress(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon is-small is-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(LockIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 23\n    }\n  }, \" \", error, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button is-dark\",\n    onClick: () => submitLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, \"login\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, \"Don't have an account? \")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button is-text\",\n    onClick: () => alert(\"register\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"register now\")))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modal-close is-large\",\n    \"aria-label\": \"close\",\n    onClick: () => setShow(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: show ? \"modal is-active\" : \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"Add your user password to login\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"control has-icons-left has-icons-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input\",\n    type: \"email\",\n    placeholder: \"user\",\n    onChange: e => handleChangeUser(e),\n    onKeyPress: e => handleKeyPress(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon is-small is-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PersonIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"control has-icons-left has-icons-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input\",\n    type: \"password\",\n    placeholder: \"password\",\n    onChange: e => handleChangePassword(e),\n    onKeyPress: e => handleKeyPress(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon is-small is-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LockIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, \" \", error, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button is-white\",\n    onClick: () => submitLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, \"submit\")))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modal-close is-large\",\n    \"aria-label\": \"close\",\n    onClick: () => setShow(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["C:/personal_workspace/portal-react/src/LoginPage/LoginPage.js"],"names":["React","useState","PersonIcon","useHistory","LockIcon","axios","LoginPage","show","setShow","userName","setUserName","userPassword","setUserPassword","error","setError","history","handleChangeUser","e","target","value","handleChangePassword","handleKeyPress","event","key","submitLogin","body","FormData","append","post","process","env","REACT_APP_API_ROOT_URL","headers","Authorization","then","response","sessionStorage","setItem","data","access_token","push","catch","message","finally","metrics","alert"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport metrics from \"../Static/Img/svg/metrics.svg\";\r\nimport axios from \"axios\";\r\n//import cookie from 'react-cookies'\r\n\r\nfunction LoginPage() {\r\n  const [show, setShow] = useState();\r\n\r\n  const [userName, setUserName] = useState();\r\n  const [userPassword, setUserPassword] = useState();\r\n  const [error, setError] = useState(false);\r\n\r\n  let history = useHistory();\r\n\r\n  const handleChangeUser = (e) => {\r\n    setUserName(e.target.value);\r\n  };\r\n  const handleChangePassword = (e) => {\r\n    setUserPassword(e.target.value);\r\n  };\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      submitLogin();\r\n    }\r\n  };\r\n\r\n  const submitLogin = () => {\r\n    if (userName && userPassword) {\r\n      const body = new FormData();\r\n      body.append(\"grant_type\", \"password\");\r\n      body.append(\"username\", userName);\r\n      body.append(\"password\", userPassword);\r\n      // setLoading(true);\r\n      //We call the api\r\n      axios\r\n        .post(`${process.env.REACT_APP_API_ROOT_URL}/oauth/token`, body, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            Authorization: \"Basic cG9ydGFsLWNsaTpwYXNzd29yZA==\",\r\n            //'Access-Control-Allow-Origin' : '*',\r\n            //'Access-Control-Allow-Headers' : 'Content-Type,X-Requested-With, content-type, access-control-allow-origin, access-control-allow-methods, access-control-allow-headers',\r\n          },\r\n        })\r\n        .then(function (response) {\r\n          // handle success\r\n          sessionStorage.setItem(\"user_token\", response.data.access_token);\r\n          sessionStorage.setItem(\"username\", userName);\r\n          history.push(\"/home\");\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          setError(error.message);\r\n        })\r\n        .finally(function () {\r\n          // always executed\r\n        });\r\n      // setLoading(false)\r\n    } else {\r\n      setError(\"All fields need to be completed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n      \r\n        <div class=\"container\">\r\n    \r\n          <div class=\"columns is-vcentered is-centered\">\r\n            <div className=\"column\">\r\n              <div className=\"is-centered\">\r\n                <figure>\r\n                  <img alt=\"\" src={metrics} />\r\n                </figure>\r\n              </div>\r\n            </div>\r\n            <div class=\"column is-third-fours\">\r\n              <div className=\"is-centered\">\r\n                <div id=\"main_index\">\r\n                  <h2>Business Development</h2>\r\n                </div>\r\n                <small>\r\n                  <p>\r\n                    Your tool to track and manage business contacts development\r\n                  </p>\r\n                </small>\r\n\r\n                <br />\r\n\r\n                <center>\r\n                  <div class=\"field\">\r\n                    <div className=\"field\">\r\n                      <p className=\"control has-icons-left has-icons-right\">\r\n                        <input\r\n                          className=\"input\"\r\n                          type=\"email\"\r\n                          placeholder=\"user\"\r\n                          onChange={(e) => handleChangeUser(e)}\r\n                          onKeyPress={(e) => handleKeyPress(e)}\r\n                        />\r\n                        <span className=\"icon is-small is-left\">\r\n                          <PersonIcon />\r\n                        </span>\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"field\">\r\n                      <p className=\"control has-icons-left has-icons-right\">\r\n                        <input\r\n                          className=\"input\"\r\n                          type=\"password\"\r\n                          placeholder=\"password\"\r\n                          onChange={(e) => handleChangePassword(e)}\r\n                          onKeyPress={(e) => handleKeyPress(e)}\r\n                        />\r\n                        <span className=\"icon is-small is-left\">\r\n                          <LockIcon />\r\n                        </span>\r\n                      </p>\r\n                      <div className=\"loginError\"> {error} </div>\r\n                      <p>\r\n                        <button\r\n                          className=\"button is-dark\"\r\n                          onClick={() => submitLogin()}\r\n                        >\r\n                        login\r\n                        </button>\r\n                        <p>\r\n                      <small>Don't have an account? </small></p>\r\n                        <button\r\n                          className=\"button is-text\"\r\n                          onClick={() => alert(\"register\")}\r\n                        >\r\n                        register now\r\n                        </button>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    className=\"modal-close is-large\"\r\n                    aria-label=\"close\"\r\n                    onClick={() => setShow(false)}\r\n                  ></button>\r\n                </center>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/*****************    Login Modal     ***********************/}\r\n\r\n        <div className={show ? \"modal is-active\" : \"modal\"}>\r\n          <div className=\"modal-background\"></div>\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-title\">Login</div>\r\n            <p>Add your user password to login</p>\r\n\r\n            <div className=\"field\">\r\n              <p className=\"control has-icons-left has-icons-right\">\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"email\"\r\n                  placeholder=\"user\"\r\n                  onChange={(e) => handleChangeUser(e)}\r\n                  onKeyPress={(e) => handleKeyPress(e)}\r\n                />\r\n                <span className=\"icon is-small is-left\">\r\n                  <PersonIcon />\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div className=\"field\">\r\n              <p className=\"control has-icons-left has-icons-right\">\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"password\"\r\n                  placeholder=\"password\"\r\n                  onChange={(e) => handleChangePassword(e)}\r\n                  onKeyPress={(e) => handleKeyPress(e)}\r\n                />\r\n                <span className=\"icon is-small is-left\">\r\n                  <LockIcon />\r\n                </span>\r\n              </p>\r\n              <div className=\"loginError\"> {error} </div>\r\n              <p>\r\n                <button\r\n                  className=\"button is-white\"\r\n                  onClick={() => submitLogin()}\r\n                >\r\n                  submit\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"modal-close is-large\"\r\n            aria-label=\"close\"\r\n            onClick={() => setShow(false)}\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n"]},"metadata":{},"sourceType":"module"}