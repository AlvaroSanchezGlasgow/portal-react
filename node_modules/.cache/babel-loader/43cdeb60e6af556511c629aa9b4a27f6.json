{"ast":null,"code":"var _jsxFileName = \"/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/IndexPage/IndexPage.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport scroller from 'react-scroll';\nimport NavbarComponent from '../Components/NavbarComponent';\nimport AsideMenuComponent from '../Components/AsideMenuComponent';\nimport MUIDataTable from \"mui-datatables\";\nimport { useHistory } from \"react-router-dom\";\n\nconst axios = require('axios');\n\nfunction IndexPage() {\n  const [result, setResult] = useState([]);\n  let history = useHistory();\n\n  const goToEdit = value => {\n    alert(value); //history.push(\"/admin\");\n  };\n\n  const options = {\n    filterType: 'dropdown',\n    onRowsDelete: rowsDeleted => {\n      const rowsToDelete = rowsDeleted.data.map(d => result[d.dataIndex]);\n      handleDelete(rowsToDelete);\n    }\n  };\n  const columns = [{\n    name: \"id\",\n    label: \"ID\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"username\",\n    label: \"USERNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"firstName\",\n    label: \"NAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"lastName\",\n    label: \"SURNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"mobile\",\n    label: \"MOBILE PHONE\",\n    options: {\n      filter: true,\n      display: false\n    }\n  }, {\n    name: \"company\",\n    label: \"COMPANY\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"isActive\",\n    label: \"IS ACTIVE\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"\",\n    options: {\n      customBodyRender: id => {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n          class: \"button is-danger is-outlined\",\n          onClick: id => goToEdit(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }\n        }, \"Edit\"));\n      },\n      filter: false,\n      searchable: false,\n      viewColumns: false\n    }\n  }];\n\n  const handleDelete = recordsToDelete => {\n    var result = recordsToDelete.map(function (item) {\n      return item.id;\n    }).join(', ');\n    axios.delete(`http://localhost:8011/users-management/users/${result}`, {\n      headers: {\n        'Authorization': 'Bearer ' + sessionStorage.getItem('user_token')\n      }\n    }).then(function (response) {\n      fetchData();\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    });\n  };\n\n  const fetchData = async () => {\n    axios.get(`http://localhost:8011/users-management/users`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + sessionStorage.getItem('user_token')\n      }\n    }).then(function (response) {\n      setResult(response.data);\n    }).catch(function (error) {\n      // handle error\n      console.log(error);\n    }).finally(function () {// always executed\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AsideMenuComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MUIDataTable, {\n    title: \"Employee List\",\n    data: result,\n    columns: columns,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 25\n    }\n  }, \"Lorem ipsum dolor sit amet, eum exerci praesent tractatos cu. Quo at vero debitis disputationi, no percipit maluisset dignissim quo. Mea tale harum ut, partem euismod quo id, cu eum ipsum vocent. Sit no stet corpora. Phaedrum definiebas an mel, pri ad quodsi fabellas patrioque, vix omnis officiis maluisset no. Altera praesent duo ex, ei mei erant tempor causae, quo noster facilis ne. Minim persequeris pri no, illud tollit recusabo ne vim, idque partem ne sea.\")))));\n}\n\nexport default IndexPage;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/IndexPage/IndexPage.js"],"names":["React","useState","useEffect","scroller","NavbarComponent","AsideMenuComponent","MUIDataTable","useHistory","axios","require","IndexPage","result","setResult","history","goToEdit","value","alert","options","filterType","onRowsDelete","rowsDeleted","rowsToDelete","data","map","d","dataIndex","handleDelete","columns","name","label","filter","display","customBodyRender","id","searchable","viewColumns","recordsToDelete","item","join","delete","headers","sessionStorage","getItem","then","response","fetchData","catch","error","finally","get","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport scroller from 'react-scroll';\nimport NavbarComponent from '../Components/NavbarComponent';\nimport AsideMenuComponent from '../Components/AsideMenuComponent';\nimport MUIDataTable from \"mui-datatables\";\nimport { useHistory } from \"react-router-dom\";\nconst axios = require('axios');\n\nfunction IndexPage() {\n    const [result, setResult] = useState([]);\n    let history = useHistory();\n\n    const goToEdit = (value) => {\n\n        alert(value);\n        //history.push(\"/admin\");\n    }\n\n    const options = {\n        filterType: 'dropdown',\n        onRowsDelete: (rowsDeleted) => {\n          const rowsToDelete = rowsDeleted.data.map((d) => result[d.dataIndex]);   \n        handleDelete(rowsToDelete);\n        }\n    };\n\n    const columns = [\n\n        {\n            name: \"id\",\n            label: \"ID\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"username\",\n            label: \"USERNAME\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"firstName\",\n            label: \"NAME\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"lastName\",\n            label: \"SURNAME\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"mobile\",\n            label: \"MOBILE PHONE\",\n            options: {\n                filter: true,\n                display:false\n            }\n        },\n        {\n            name: \"company\",\n            label: \"COMPANY\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"isActive\",\n            label: \"IS ACTIVE\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"\",\n\n            options: {\n                customBodyRender: (id) => {\n                    return (\n                        <>\n                            <button class=\"button is-danger is-outlined\" onClick={(id) => goToEdit(id)}>Edit</button>\n                        </>\n                    );\n                },\n                filter: false,\n                searchable: false,\n                viewColumns: false\n            }\n        },\n\n    ];\n\n    const handleDelete = (recordsToDelete) => {\n\n      \n        var result = recordsToDelete.map(function( item ) {\n            return item.id;\n        }).join(', ');\n\n        axios.delete(`http://localhost:8011/users-management/users/${result}`, {\n            headers: {\n\n                'Authorization': 'Bearer ' + sessionStorage.getItem('user_token')\n\n            }\n        }).then(function (response) {\n            fetchData();\n\n        })\n            .catch(function (error) {\n                // handle error\n\n            })\n            .finally(function () {\n                // always executed\n            });\n\n    }\n    \n\n    const fetchData = async () => {\n        axios.get(`http://localhost:8011/users-management/users`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + sessionStorage.getItem('user_token'),\n\n            }\n\n        })\n            .then(function (response) {\n\n                setResult(response.data);\n            })\n            .catch(function (error) {\n                // handle error\n                console.log(error);\n\n            })\n            .finally(function () {\n                // always executed\n            });\n\n\n    };\n    useEffect(() => { fetchData() }, []);\n\n\n\n    return (\n        <>\n            <div className='container'>\n                <NavbarComponent />\n            </div>\n            <div className='columns'>\n                <div className='column'>\n\n                </div>\n                <div className='column is-2'>\n                    <AsideMenuComponent />\n                </div>\n                <div className='column is-8'>\n\n                    <MUIDataTable\n                        title={\"Employee List\"}\n                        data={result}\n                        columns={columns}\n                        options={options}\n                    />\n                </div>\n                <div className='column'>\n\n                </div>\n            </div>\n            <div className='container'>\n                <div className='columns'>\n                    <div className='column'>\n                        <p>\n                            Lorem ipsum dolor sit amet, eum exerci praesent tractatos cu.\n                            Quo at vero debitis disputationi, no percipit maluisset dignissim quo.\n                            Mea tale harum ut, partem euismod quo id, cu eum ipsum vocent. Sit no stet corpora.\n                            Phaedrum definiebas an mel, pri ad quodsi fabellas patrioque, vix omnis officiis maluisset no.\n                            Altera praesent duo ex, ei mei erant tempor causae, quo noster facilis ne. Minim persequeris pri no, illud tollit recusabo ne vim, idque partem ne sea.\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n\n\n        </>\n    );\n}\nexport default IndexPage;"]},"metadata":{},"sourceType":"module"}