{"ast":null,"code":"var _jsxFileName = \"/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/IndexPage/IndexPage.js\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport NavbarComponent from \"../Components/NavbarComponent\";\nimport MUIDataTable from \"mui-datatables\";\nimport { useHistory } from \"react-router-dom\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst axios = require(\"axios\");\n\nfunction IndexPage() {\n  const [result, setResult] = useState([]);\n  let history = useHistory();\n\n  const goToEdit = value => {\n    history.push(\"/admin?user=\" + value[1]);\n  };\n\n  const options = {\n    filterType: \"dropdown\",\n    rowHover: true,\n    onRowsDelete: rowsDeleted => {\n      const rowsToDelete = rowsDeleted.data.map(d => result[d.dataIndex]);\n      handleDelete(rowsToDelete);\n    },\n    onRowClick: (event, rowData) => {\n      goToEdit(event);\n    },\n    rowsPerPageOptions: [5, 10]\n  };\n  const columns = [{\n    name: \"id\",\n    label: \"ID\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"username\",\n    label: \"USERNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"firstName\",\n    label: \"NAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"lastName\",\n    label: \"SURNAME\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"email\",\n    label: \"EMAIL\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"comment\",\n    label: \"COMMENT\",\n    options: {\n      filter: true\n    }\n  }, {\n    name: \"isActive\",\n    label: \"ACTIVE\",\n    options: {\n      filter: true,\n      customBodyRender: value => {\n        if (value === \"Y\") {\n          return /*#__PURE__*/React.createElement(CheckCircleIcon, {\n            style: {\n              color: \"#64A205\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 20\n            }\n          });\n        } else {\n          return /*#__PURE__*/React.createElement(CloseIcon, {\n            style: {\n              color: \"#C71E03\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 20\n            }\n          });\n        }\n      } //CheckCircleIcon\n\n    }\n  }];\n\n  const handleDelete = recordsToDelete => {\n    var result = recordsToDelete.map(function (item) {\n      return item.id;\n    }).join(\", \");\n    axios.delete(`${process.env.REACT_APP_API_ROOT_URL}/users-management/users/${result}`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      fetchData();\n    }).catch(function (error) {\n      console.log(\"Error Fetching Data: \" + error);\n      history.push(\"/\");\n    }).finally(function () {// always executed\n    });\n  };\n\n  const fetchData = async () => {\n    axios.get(`${process.env.REACT_APP_API_ROOT_URL}/users-management/users`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\")\n      }\n    }).then(function (response) {\n      setResult(response.data);\n    }).catch(function (error) {\n      // handle error\n      console.log(\"Error Fetching Data: \" + error);\n      history.push(\"/\");\n    }).finally(function () {// always executed\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main_index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, \"App Users\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column is-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MUIDataTable, {\n    title: \"\",\n    data: result,\n    columns: columns,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  })))));\n}\n\nexport default IndexPage;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/IndexPage/IndexPage.js"],"names":["React","useState","useEffect","NavbarComponent","MUIDataTable","useHistory","CheckCircleIcon","CloseIcon","axios","require","IndexPage","result","setResult","history","goToEdit","value","push","options","filterType","rowHover","onRowsDelete","rowsDeleted","rowsToDelete","data","map","d","dataIndex","handleDelete","onRowClick","event","rowData","rowsPerPageOptions","columns","name","label","filter","customBodyRender","color","recordsToDelete","item","id","join","delete","process","env","REACT_APP_API_ROOT_URL","headers","Authorization","sessionStorage","getItem","then","response","fetchData","catch","error","console","log","finally","get"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport NavbarComponent from \"../Components/NavbarComponent\";\nimport MUIDataTable from \"mui-datatables\";\nimport { useHistory } from \"react-router-dom\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst axios = require(\"axios\");\n\nfunction IndexPage() {\n  const [result, setResult] = useState([]);\n  let history = useHistory();\n\n  const goToEdit = (value) => {\n    history.push(\"/admin?user=\" + value[1]);\n  };\n\n  const options = {\n    filterType: \"dropdown\",\n    rowHover: true,\n    onRowsDelete: (rowsDeleted) => {\n      const rowsToDelete = rowsDeleted.data.map((d) => result[d.dataIndex]);\n      handleDelete(rowsToDelete);\n    },\n    onRowClick: (event, rowData) => {\n      goToEdit(event);\n    },\n    rowsPerPageOptions: [5, 10],\n  };\n\n  const columns = [\n    {\n      name: \"id\",\n      label: \"ID\",\n      options: {\n        filter: true,\n      },\n    },\n    {\n      name: \"username\",\n      label: \"USERNAME\",\n      options: {\n        filter: true,\n      },\n    },\n    {\n      name: \"firstName\",\n      label: \"NAME\",\n      options: {\n        filter: true,\n      },\n    },\n    {\n      name: \"lastName\",\n      label: \"SURNAME\",\n      options: {\n        filter: true,\n      },\n    },\n    {\n      name: \"email\",\n      label: \"EMAIL\",\n      options: {\n        filter: true,\n      },\n    },\n    {\n      name: \"comment\",\n      label: \"COMMENT\",\n      options: {\n        filter: true,\n      },\n    },\n    {\n      name: \"isActive\",\n      label: \"ACTIVE\",\n      options: {\n        filter: true,\n        customBodyRender: (value) => {\n          if (value === \"Y\") {\n            return <CheckCircleIcon style={{ color: \"#64A205\" }} />;\n          } else {\n            return <CloseIcon style={{ color: \"#C71E03\" }} />;\n          }\n        },\n        //CheckCircleIcon\n      },\n    },\n  ];\n\n  const handleDelete = (recordsToDelete) => {\n    var result = recordsToDelete\n      .map(function (item) {\n        return item.id;\n      })\n      .join(\", \");\n\n    axios\n      .delete(\n        `${process.env.REACT_APP_API_ROOT_URL}/users-management/users/${result}`,\n        {\n          headers: {\n            Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\n          },\n        }\n      )\n      .then(function (response) {\n        fetchData();\n      })\n      .catch(function (error) {\n        console.log(\"Error Fetching Data: \" + error);\n        history.push(\"/\");\n      })\n      .finally(function () {\n        // always executed\n      });\n  };\n\n  const fetchData = async () => {\n    axios\n      .get(`${process.env.REACT_APP_API_ROOT_URL}/users-management/users`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"user_token\"),\n        },\n      })\n      .then(function (response) {\n        setResult(response.data);\n      })\n      .catch(function (error) {\n        // handle error\n        console.log(\"Error Fetching Data: \" + error);\n        history.push(\"/\");\n      })\n      .finally(function () {\n        // always executed\n      });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return (\n    <>\n     <div className=\"card\">\n      <div className=\"container\">\n        <NavbarComponent />\n       \n      \n        <div className=\"columns\">\n          <div className=\"column\">\n            <div id=\"main_index\">\n              <h2>App Users</h2>\n            </div>\n          </div>\n        </div>\n        <div className=\"columns\">\n          \n          <div className=\"column is-12\">\n            <MUIDataTable\n              title={\"\"}\n              data={result}\n              columns={columns}\n              options={options}\n            />\n          </div>\n          <div className=\"column\"></div>\n        </div>\n      </div>\n      </div>\n    </>\n  );\n}\nexport default IndexPage;\n"]},"metadata":{},"sourceType":"module"}