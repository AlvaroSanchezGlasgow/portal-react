{"ast":null,"code":"var _jsxFileName = \"/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/TrackerAdmin/ClientTrackerPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport TrackerComponent from \"./TrackerComponent\";\nimport { useHistory } from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\nimport PublicNavbarComponent from \"../Components/PublicNavbarComponent\";\nimport ClientTrackerChart from \"./ClientTrackerChart\";\nimport SpinnerComponent from \"../Components/SpinnerComponent\";\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst axios = require(\"axios\");\n\nfunction ClientTrackerPage() {\n  const [clientObject, setClientObject] = useState([]);\n  const [contactsObject, setContactsObject] = useState([]);\n  let history = useHistory();\n  useEffect(props => {\n    //alert(JSON.stringify(value));\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const clientUrl = params.get(\"client\"); //We call the api\n\n    axios.get(`http://localhost:8011/client-management/clients/${clientUrl}`, {\n      headers: {}\n    }).then(function (response) {\n      setClientObject(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    });\n    axios.get(`http://localhost:8011/contact-management/contacts/${clientUrl}`, {\n      headers: {}\n    }).then(function (response) {\n      setContactsObject(response.data);\n    }).catch(function (error) {// handle error\n    }).finally(function () {// always executed\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PublicNavbarComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), !clientObject.id && /*#__PURE__*/React.createElement(SpinnerComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 30\n    }\n  }), clientObject.id && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main_index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, clientObject.id + \"-\" + clientObject.name), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"Client Manager:\"), \" \", clientObject.clientManager)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: clientObject.website,\n    rel: \"noopener noreferrer\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, clientObject.website, \" \"), /*#__PURE__*/React.createElement(OpenInNewIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Tier\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, clientObject.tier + \" - \" + clientObject.tierDescription))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"Registration Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, clientObject.registrationDate))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Sector\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, clientObject.sector + \" - \" + clientObject.sectorDescription))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Contacts\", /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-white\",\n    onClick: () => history.push(`/add_contact?client=${clientObject.id}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AddCircleOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 18\n    }\n  }))), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table is-hoverable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 23\n    }\n  }, \"Surname\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 23\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  }, \"Comment\")), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, contactsObject.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"button is-text\",\n      onClick: () => alert(\"delete\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 29\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, item.surname), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 29\n      }\n    }, item.role), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 29\n      }\n    }, item.comment));\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, !clientObject.id && /*#__PURE__*/React.createElement(SpinnerComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 36\n    }\n  }), clientObject.id && /*#__PURE__*/React.createElement(ClientTrackerChart, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 35\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"field is-grouped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-text\",\n    onClick: () => history.push(\"/\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 23\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"button is-primary\",\n    onClick: () => history.push(`/add_track?client=${clientObject.id}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }, \"New Activity\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"columns is-vcentered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TrackerComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default ClientTrackerPage;","map":{"version":3,"sources":["/Users/alvarosanchezgalvan/Desktop/WorkSpace/poc-portal/src/TrackerAdmin/ClientTrackerPage.js"],"names":["React","useState","useEffect","TrackerComponent","useHistory","ArrowBackIcon","Tooltip","OpenInNewIcon","PublicNavbarComponent","ClientTrackerChart","SpinnerComponent","AddCircleOutlineIcon","DeleteIcon","axios","require","ClientTrackerPage","clientObject","setClientObject","contactsObject","setContactsObject","history","props","search","window","location","params","URLSearchParams","clientUrl","get","headers","then","response","data","catch","error","finally","id","name","clientManager","website","tier","tierDescription","registrationDate","sector","sectorDescription","push","map","item","alert","surname","role","comment"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport TrackerComponent from \"./TrackerComponent\";\nimport { useHistory } from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\nimport PublicNavbarComponent from \"../Components/PublicNavbarComponent\";\nimport ClientTrackerChart from \"./ClientTrackerChart\";\nimport SpinnerComponent from \"../Components/SpinnerComponent\";\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst axios = require(\"axios\");\n\nfunction ClientTrackerPage() {\n  const [clientObject, setClientObject] = useState([]);\n  const [contactsObject, setContactsObject] = useState([]);\n \n  \n  let history = useHistory();\n\n  useEffect((props) => {\n    //alert(JSON.stringify(value));\n\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const clientUrl = params.get(\"client\");\n\n    //We call the api\n    axios\n      .get(`http://localhost:8011/client-management/clients/${clientUrl}`, {\n        headers: {},\n      })\n      .then(function (response) {\n        setClientObject(response.data);\n      })\n      .catch(function (error) {\n        // handle error\n      })\n      .finally(function () {\n        // always executed\n      });\n\n    axios\n      .get(`http://localhost:8011/contact-management/contacts/${clientUrl}`, {\n        headers: {},\n      })\n      .then(function (response) {\n        setContactsObject(response.data);\n      })\n      .catch(function (error) {\n        // handle error\n      })\n      .finally(function () {\n        // always executed\n      });\n  }, []);\n\n  \n  return (\n    <>\n      <div class=\"container\">\n        <PublicNavbarComponent />\n        {!clientObject.id && <SpinnerComponent />}\n        {clientObject.id && (\n          <div id=\"main_index\">\n            <h2>{clientObject.id + \"-\" + clientObject.name}</h2>\n            <h4>\n              <strong>Client Manager:</strong> {clientObject.clientManager}\n            </h4>\n          </div>\n        )}\n\n        <div class=\"card-content\">\n          <div class=\"columns\">\n            <div class=\"column\">\n              <div class=\"field\">\n                <div class=\"control\">\n                  <a\n                    href={clientObject.website}\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\"\n                  >\n                    {clientObject.website}{\" \"}\n                  </a>\n                  <OpenInNewIcon />\n                </div>\n              </div>\n              <div class=\"field\">\n                <div class=\"label\">Tier</div>\n                <div class=\"control\">\n                  <p>\n                    {clientObject.tier + \" - \" + clientObject.tierDescription}\n                  </p>\n                </div>\n              </div>\n              <div class=\"field\">\n                <div class=\"label\">Registration Date</div>\n                <div class=\"control\">\n                  <p>{clientObject.registrationDate}</p>\n                </div>\n              </div>\n\n              <div class=\"field\">\n                <div class=\"label\">Sector</div>\n\n                <div class=\"control\">\n                  <p>\n                    {clientObject.sector +\n                      \" - \" +\n                      clientObject.sectorDescription}\n                  </p>\n                </div>\n              </div>\n              <hr />\n              <div class=\"field\">\n                <div class=\"label\">Contacts\n                <button\n                  class=\"button is-white\"\n                  onClick={() =>\n                    history.push(`/add_contact?client=${clientObject.id}`)\n                  }\n                >\n                 <AddCircleOutlineIcon />\n                </button>\n                </div>\n                \n                   \n                <center>\n                  <table className=\"table is-hoverable\">\n                    <thead>\n                      <td></td>\n                      <td>Name</td>\n                      <td>Surname</td>\n                      <td>Role</td>\n                      <td>Comment</td>\n                    </thead>\n                    <tbody>\n                      {contactsObject.map(function (item) {\n                        return (\n                          <tr>\n                            <td>\n                              <button\n                                class=\"button is-text\"\n                                onClick={() =>\n                                 alert(\"delete\")}\n                              >\n                                <DeleteIcon />\n                              </button>\n                            </td>\n\n                            <td>{item.name}</td>\n                            <td>{item.surname}</td>\n                            <td>{item.role}</td>\n                            <td>{item.comment}</td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </center>\n              </div>\n            </div>\n\n            <div class=\"column\">\n              {!clientObject.id && <SpinnerComponent />}\n              {clientObject.id && <ClientTrackerChart />}\n            </div>\n          </div>\n\n          <div class=\"columns\">\n            <div class=\"column\">\n              <div class=\"field is-grouped\">\n                <div class=\"control\">\n                  <button\n                    class=\"button is-text\"\n                    onClick={() => history.push(\"/\")}\n                  >\n                    <Tooltip title=\"back\">\n                      <ArrowBackIcon />\n                    </Tooltip>\n                  </button>\n                </div>\n                <div class=\"control\">\n                  <button\n                    class=\"button is-primary\"\n                    onClick={() =>\n                      history.push(`/add_track?client=${clientObject.id}`)\n                    }\n                  >\n                    New Activity\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"columns is-vcentered\">\n          <div class=\"column\">\n            <TrackerComponent />\n          </div>\n        </div>\n\n                    \n      </div>\n    </>\n  );\n}\n\nexport default ClientTrackerPage;\n"]},"metadata":{},"sourceType":"module"}